{"version":3,"sources":["../src/index.js"],"names":["appConfig","require","app","server","createServer","use","urlencoded","extended","json","static","join","__dirname","initRoutes","cwd","resolve","err","routes","console","log","red","forEach","routePath","default","green","length","listen","process","env","PORT","setupSwagger"],"mappings":";;;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AACA,IAAMA,YAAYC,QAAQ,oBAAR,CAAlB,C,CAVA;;;AAYA,IAAMC,MAAM,wBAAZ;AACAA,IAAIC,MAAJ,GAAa,eAAKC,YAAL,CAAkBF,GAAlB,CAAb;;AAEA;AACAA,IAAIG,GAAJ,CAAQ,sBAAO,KAAP,CAAR;AACAH,IAAIG,GAAJ,CAAQ,qBAAR;AACAH,IAAIG,GAAJ,CAAQ,mBAAR;;AAEA;AACAH,IAAIG,GAAJ,CAAQ,qBAAWC,UAAX,CAAsB;AAC1BC,cAAU;AADgB,CAAtB,CAAR;AAGAL,IAAIG,GAAJ,CAAQ,qBAAWG,IAAX,EAAR;AACAN,IAAIG,GAAJ,CAAQ,kBAAQI,MAAR,CAAe,eAAKC,IAAL,CAAUC,SAAV,EAAqB,YAArB,CAAf,CAAR;AACA,IAAMC,aAAa,SAAbA,UAAa,CAACV,GAAD,EAAS;AACxB;AACA,wBAAK,eAAL,EAAsB;AAClBW,aAAK,eAAKC,OAAL,CAAa,OAAb;AADa,KAAtB,EAEG,UAACC,GAAD,EAAMC,MAAN,EAAiB;AAChB,YAAID,GAAJ,EAAS;AACLE,oBAAQC,GAAR,CAAY,gBAAMC,GAAN,CAAU,gCAAV,CAAZ;AACA;AACH;AACDH,eAAOI,OAAP,CAAe,UAACC,SAAD,EAAe;AAC1BpB,oBAAQoB,SAAR,EAAmBC,OAAnB,CAA2BpB,GAA3B,EAD0B,CACO;AACpC,SAFD;AAGAe,gBAAQC,GAAR,CAAY,gBAAMK,KAAN,CAAY,cAAcP,OAAOQ,MAArB,GAA8B,cAA1C,CAAZ;AACH,KAXD;AAYH,CAdD;AAeAZ,WAAWV,GAAX;;AAEAA,IAAIC,MAAJ,CAAWsB,MAAX,CAAkBC,QAAQC,GAAR,CAAYC,IAAZ,IAAoB,IAAtC;AACAX,QAAQC,GAAR,CAAY,qBAAqB,IAAjC;AACA;AACA,IAAMW,eAAe5B,QAAQ,qBAAR,CAArB;;kBAEe4B,gCAAsB3B,GAAtB,C","file":"index.js","sourcesContent":["/* eslint-disable*/\nimport http from \"http\";\nimport express from \"express\";\nimport cors from \"cors\";\nimport morgan from \"morgan\";\nimport path from \"path\";\nimport glob from \"glob\";\nimport chalk from \"chalk\";\nimport db from \"./mongodb/db.js\";\nimport bodyParser from \"body-parser\";\nconst appConfig = require('./../config/app.js');\n\nconst app = express();\napp.server = http.createServer(app);\n\n// logger\napp.use(morgan(\"dev\"));\napp.use(cors());\napp.use(db());\n\n// 3rd party middleware\napp.use(bodyParser.urlencoded({\n    extended: true\n}));\napp.use(bodyParser.json());\napp.use(express.static(path.join(__dirname, '../uploads')))\nconst initRoutes = (app) => {\n    // including all routes\n    glob(\"./routes/*.js\", {\n        cwd: path.resolve(\"./src\")\n    }, (err, routes) => {\n        if (err) {\n            console.log(chalk.red(\"Error occured including routes\"));\n            return;\n        }\n        routes.forEach((routePath) => {\n            require(routePath).default(app); // eslint-disable-line\n        });\n        console.log(chalk.green(\"included \" + routes.length + \" route files\"));\n    });\n};\ninitRoutes(app);\n\napp.server.listen(process.env.PORT || 3003);\nconsole.log(\"Started on port \" + 3003);\n// Setup API document\nconst setupSwagger = require('./../config/swagger');\n\nexport default setupSwagger(express, app);"]}