{"version":3,"sources":["../../src/mongodb/db.js"],"names":["conn","createConnection","module","exports","model_schema_user","Schema","strict","collection","collection_model_user","model","model_interest","collection_model_interest","model_article","collection_model_article","req","res","next","User","Interest","Article"],"mappings":";;AAAA;;;;;;AACA,IAAIA,OAAO,mBAASC,gBAAT,CAA0B,gCAA1B,CAAX;AACA;AACAC,OAAOC,OAAP,GAAiB,YAAW;AACxB;AACA,QAAIC,oBAAoB,mBAASC,MAAT,CAAgB,EAAhB,EAAoB;AACxCC,gBAAQ,KADgC;AAExCC,oBAAY;AAF4B,KAApB,CAAxB;AAIA,QAAIC,wBAAwBR,KAAKS,KAAL,CAAW,MAAX,EAAmBL,iBAAnB,CAA5B;;AAEA;AACA;AACA;AACA;AACA;;;AAGA,QAAIM,iBAAiB,mBAASL,MAAT,CAAgB,EAAhB,EAAoB;AACrCC,gBAAQ,KAD6B;AAErCC,oBAAY;AAFyB,KAApB,CAArB;AAIA,QAAII,4BAA4BX,KAAKS,KAAL,CAAW,UAAX,EAAuBC,cAAvB,CAAhC;;AAEA;AACA,QAAIE,gBAAgB,mBAASP,MAAT,CAAgB,EAAhB,EAAoB;AACpCC,gBAAQ,KAD4B;AAEpCC,oBAAY;AAFwB,KAApB,CAApB;AAIA,QAAIM,2BAA2Bb,KAAKS,KAAL,CAAW,MAAX,EAAmBG,aAAnB,CAA/B;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,WAAO,UAASE,GAAT,EAAcC,GAAd,EAAmBC,IAAnB,EAAyB;AAC5BF,YAAIG,IAAJ,GAAWT,qBAAX;AACA;AACAM,YAAII,QAAJ,GAAeP,yBAAf;AACAG,YAAIK,OAAJ,GAAcN,wBAAd;AACA;AACA;AACAG;AACH,KARD;AASH,CAnDD","file":"db.js","sourcesContent":["import mongoose from \"mongoose\";\nlet conn = mongoose.createConnection(\"mongodb://localhost/exalt_auto\");\n// the middleware function\nmodule.exports = function() {\n    // create schema\n    let model_schema_user = mongoose.Schema({}, {\n        strict: false,\n        collection: 'user'\n    });\n    let collection_model_user = conn.model('user', model_schema_user);\n\n    // let model_schema_image = mongoose.Schema({}, {\n    //     strict: false,\n    //     collection: 'image'\n    // });\n    // let collection_model_image = conn.model('image', model_schema_image);\n\n\n    let model_interest = mongoose.Schema({}, {\n        strict: false,\n        collection: 'interest'\n    });\n    let collection_model_interest = conn.model('interest', model_interest);\n\n    /*model for user_post*/\n    let model_article = mongoose.Schema({}, {\n        strict: false,\n        collection: 'article'\n    });\n    let collection_model_article = conn.model('post', model_article);\n\n    // /*model for comment*/\n    // let model_comment = mongoose.Schema({}, {\n    //     strict: false,\n    //     collection: 'comment'\n    // });\n    // let collection_model_comment = conn.model('comment', model_comment);\n\n    // /*model for like*/\n    // let model_like = mongoose.Schema({}, {\n    //     strict: false,\n    //     collection: 'like'\n    // });\n    // let collection_model_like = conn.model('like', model_like);\n\n    return function(req, res, next) {\n        req.User = collection_model_user;\n        // req.Image = collection_model_image;\n        req.Interest = collection_model_interest;\n        req.Article = collection_model_article;\n        // req.Comment = collection_model_comment;\n        // req.Like = collection_model_like;\n        next();\n    };\n};"]}