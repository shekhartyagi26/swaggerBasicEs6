{"version":3,"sources":["../../src/modules/mail.js"],"names":["module","exports","sendMail","email","subject","text","from","html","Promise","resolve","reject","mailer","createTransport","host","SMTP_HOST","port","SMTP_PORT","auth","user","SMTP_USER","pass","SMTP_PASS","to","template","error","response","message","close"],"mappings":";;AAAA;;;;AACA;;;;AACA;;;;;;AAEAA,OAAOC,OAAP,GAAiB;AACbC,cAAU,kBAASC,KAAT,EAAgBC,OAAhB,EAAyBC,IAAzB,EAA+BC,IAA/B,EAAqCC,IAArC,EAA2C;AACjD,eAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpC,gBAAIC,SAAS,qBAAWC,eAAX,CAA2B,uCAAc;AAClDC,sBAAM,iBAAOC,SADqC;AAElDC,sBAAM,iBAAOC,SAFqC;AAGlDC,sBAAM;AACFC,0BAAM,iBAAOC,SADX;AAEFC,0BAAM,iBAAOC;AAFX;AAH4C,aAAd,CAA3B,CAAb;AAQAV,mBAAOT,QAAP,CAAgB;AACZI,sBAAMA,IADM;AAEZgB,oBAAInB,KAFQ;AAGZC,yBAASA,OAHG;AAIZmB,0BAAUlB,IAJE;AAKZE,sBAAMA;AALM,aAAhB,EAMG,UAACiB,KAAD,EAAQC,QAAR,EAAqB;AACpB,oBAAID,KAAJ,EAAW;AACPd,2BAAO,6BAAP;AACH,iBAFD,MAEO;AACHD,4BAAQ,EAAEiB,SAAS,yBAAX,EAAR;AACH;AACDf,uBAAOgB,KAAP;AACH,aAbD;AAcH,SAvBM,CAAP;AAwBH;AA1BY,CAAjB","file":"mail.js","sourcesContent":["import nodemailer from \"nodemailer\";\nimport smtpTransport from \"nodemailer-smtp-transport\";\nimport config from \"../../config.json\";\n\nmodule.exports = {\n    sendMail: function(email, subject, text, from, html) {\n        return new Promise((resolve, reject) => {\n            var mailer = nodemailer.createTransport(smtpTransport({\n                host: config.SMTP_HOST,\n                port: config.SMTP_PORT,\n                auth: {\n                    user: config.SMTP_USER,\n                    pass: config.SMTP_PASS\n                }\n            }));\n            mailer.sendMail({\n                from: from,\n                to: email,\n                subject: subject,\n                template: text,\n                html: html\n            }, (error, response) => {\n                if (error) {\n                    reject(\"Email not send successfully\");\n                } else {\n                    resolve({ message: \"Email send successfully\" });\n                }\n                mailer.close();\n            });\n        })\n    }\n};"]}